query ActivityList($year: String!, $type: ActivityType) {
  festival(year: $year) {
    id

    activities(type: $type) {
      ...ActivityListActivity
    }
  }
}

query ActivityDetails($year: String!, $type: ActivityType!, $slug: String!) {
  festival(year: $year) {
    id

    activity(type: $type, slug: $slug) {
      id
      name
      type
      slug
      description

      presenters {
        ...ActivityPresenter
      }

      sessions {
        id
        startsAt
        endsAt

        venue {
          id
          room
          building
        }
      }
    }
  }
}

fragment ActivityListActivity on Activity {
  id
  name
  type
  slug

  sessions {
    id
    startsAt
    endsAt

    venue {
      id
      room
      building
    }
  }

  presenters {
    ...ActivityPresenter
  }
}

fragment ActivityPresenter on Person {
  id
  name

  picture {
    id
    small
  }
}

mutation RenameActivity($id: ID!, $name: String!) {
  renameActivity(id: $id, name: $name) {
    activity {
      id
      name
      type
      slug
    }
  }
}

mutation MoveActivity($id: ID!, $slug: String!) {
  moveActivity(id: $id, slug: $slug) {
    activity {
      id
      name
      type
      slug
    }
  }
}

mutation UpdateActivity($id: ID!, $attributes: ActivityAttributes!) {
  updateActivity(id: $id, attributes: $attributes) {
    activity {
      id
      name
      type
      slug
      description

      presenters {
        ...ActivityPresenter
      }
    }
  }
}
