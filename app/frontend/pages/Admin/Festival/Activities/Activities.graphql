query ActivityList($type: ActivityType) {
  festival {
    id

    activities(type: $type) {
      ...ActivityListActivity
    }
  }
}

query ActivityDetails($type: ActivityType!, $slug: String!) {
  festival {
    id

    activity(type: $type, slug: $slug) {
      id
      name
      type
      slug
      description

      picture {
        id
        large
      }

      ... on Show {
        bookingLink

        workshop {
          id
          name
          slug

          sessions {
            id
            startsAt
          }
        }
      }

      ... on Workshop {
        suitability

        show {
          id
          name
          slug

          sessions {
            id
            startsAt
          }
        }
      }

      presenters {
        ...ActivityPresenter
      }

      sessions {
        id
        startsAt
        endsAt

        venue {
          id
          room
          building
        }
      }
    }
  }
}

fragment ActivityListActivity on Activity {
  id
  name
  type
  slug

  sessions {
    id
    startsAt
    endsAt

    venue {
      id
      room
      building
    }
  }

  presenters {
    ...ActivityPresenter
  }
}

fragment ActivityPresenter on Person {
  id
  name

  city {
    id
    name
    traditionalName
  }

  country {
    id
    name
    traditionalName
  }

  picture {
    id
    small
  }
}

mutation RenameActivity($id: ID!, $name: String!) {
  renameActivity(id: $id, name: $name) {
    activity {
      id
      name
      type
      slug
    }
  }
}

mutation MoveActivity($id: ID!, $slug: String!) {
  moveActivity(id: $id, slug: $slug) {
    activity {
      id
      name
      type
      slug
    }
  }
}

mutation UpdateActivity($id: ID!, $attributes: ActivityAttributes!) {
  updateActivity(id: $id, attributes: $attributes) {
    activity {
      id
      name
      type
      slug
      description

      presenters {
        ...ActivityPresenter
      }
    }
  }
}
