fragment PersonDetails on Person {
  id
  name
  pronouns

  user {
    id
    email
  }

  city {
    id
    name
    traditionalName
  }

  country {
    id
    name
    traditionalName
  }

  picture {
    id
    small
    large
  }
}

fragment PersonUser on User {
  id
  email
  permissions
}

query People {
  people {
    ...PersonDetails
  }
}

query Person($id: ID!) {
  person(id: $id) {
    ...PersonDetails
    bio

    user {
      ...PersonUser
    }
  }
}

mutation UpdateProfile($id: ID!, $attributes: ProfileAttributes!) {
  updateProfile(id: $id, attributes: $attributes) {
    profile {
      ...PersonDetails
      bio
    }
  }
}

mutation MergeProfiles($profileIds: [ID!]!, $attributes: ProfileMergeAttributes!) {
  mergeProfiles(profileIds: $profileIds, attributes: $attributes) {
    profile {
      ...PersonDetails
      bio
    }
  }
}
