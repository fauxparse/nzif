.inset {
  margin-inline: var(--horizontal-padding);
}

.page__header {
  display: grid;
  gap: var(--small);
  padding: var(--large) var(--horizontal-padding);

  &:has(.tabs) {
    padding-bottom: 0;
    border-bottom: var(--border-width-standard) solid var(--border-subtle);

    .tabs {
      margin-bottom: calc(var(--border-width-standard) * -1);

      &::after {
        content: "";
        flex: 1;
      }

      .button {
        align-self: center;
        order: 1;

        @media (width <= 768px) {
          display: none;
        }
      }
    }
  }

  h1 {
    margin: 0;

    .in-place-edit__wrapper {
      font-size: inherit;
      line-height: inherit;
    }
  }
}

.details-form {
  padding-block: var(--large);
  transition: opacity var(--timing-standard) var(--ease-standard);


  &[aria-busy] {
    opacity: var(--disabled-opacity);
    pointer-events: none;
  }

  section {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--large);
    align-items: flex-start;
    padding: var(--large) 0;

    header {
      h3 {
        margin: 0;
        line-height: var(--line-height-medium);
      }

      p {
        margin: 0;
        color: var(--text-subtle);
      }
    }

    &:not(:first-child, .details-form__buttons) {
      border-top: var(--border-width-standard) solid var(--border-subtle);
    }
  }

  .select,
  input.input {
    max-width: 24rem;
  }

  textarea {
    min-height: 10rem;
    max-height: 50vh;
  }

  .permission {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: var(--small);

    &__label {
      display: contents;
    }

    &__children {
      grid-column: 2;
    }
  }
}

@media (width > 640px) {
  .page {
    .details-form {
      section {
        grid-template-columns: 1fr 2fr;

        header {
          grid-column: 1;
        }

        > * {
          grid-column: 2;
        }
      }
    }
  }
}

.data-table {
  width: 100%;
  border-spacing: 0;

  th, td {
    vertical-align: middle;
    margin: 0;
    padding: var(--small) var(--spacing);
    border-collapse: collapse;
    border-bottom: var(--border-width-standard) solid var(--border-subtle);
    text-align: left;
    white-space: nowrap;

    &:first-child {
      position: sticky;
      left: 0;
      padding-inline: var(--large);
      background: linear-gradient(to left, transparent, var(--background) var(--spacing));
    }

    &[data-column="name"] {
      font-weight: var(--font-weight-medium);
    }

    &[data-column="time"] {
      text-align: right;
    }

    .button {
      margin-inline: calc(var(--button-padding-inline) * -1);
      font-weight: var(--font-weight-medium);
    }

    .presenter {
      --button-background: var(--neutral3);
      --button-hover-background: var(--neutral4);

      gap: var(--tiny);
      margin: 0;
      color: var(--text);
      font-weight: var(--font-weight-normal);
      padding-inline-start: 0;
    }

    &[data-editable] {
      padding-inline: 0;
      padding-block: var(--tiny);

      &:first-child {
        padding-left: var(--small);
      }
    }

    &[data-column="actions"] > * {
      opacity: 0;
      transition: opacity var(--timing-standard) var(--ease-standard);
    }

    .input {
      width: calc(100% - var(--small));
    }
  }

  tbody {
    .input {
      --input-background: transparent;
      --input-border: transparent;
    }
  }

  tr:hover td[data-column="actions"] > * {
    opacity: 1;
    transition-duration: var(--timing-fast);
  }

  thead {
    tr {
      th {
        border-bottom: var(--border-width-standard) solid var(--border-element);
        color: var(--text-subtle);
        font-weight: var(--font-weight-medium);
      }

      .button {
        --button-text: var(--text-subtle);
        --button-text-hover: var(--text);

        justify-content: space-between;
        width: calc(100% + var(--button-padding-inline) * 2);
        margin-inline: calc(var(--button-padding-inline) * -1);

        &__text {
          text-align: left;
        }

        path {
          opacity: 0.25;
        }

        &[data-sort="asc"] path:first-child,
        &[data-sort="desc"] path:last-child {
          opacity: 1;
        }
      }

      &:not(:last-child) {
        display: none;
      }
    }
  }

  &__container {
    overflow-x: auto;
    width: calc(100% + var(--large) * 2);
    margin-inline: calc(var(--large) * -1);
    margin-block: var(--large);
  }
}
